(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{250:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(10),o=a.n(i);function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){r=!0,i=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}e.default=function(t){var e=c(Object(n.useState)([]),2),a=e[0],i=e[1],u=c(Object(n.useState)({}),2),s=u[0],m=u[1];Object(n.useEffect)((function(){o.a.get("/admin/api/store").then((function(t){i(t.data)})).catch((function(t){return console.error(t)}))}),[]),Object(n.useEffect)((function(){var t={};a.forEach((function(e){t[e._id]=e.quantity})),m(t),console.log(s)}),[a]);var d=function(e){e.preventDefault();var a=e.target.quantity.value,n=e.target.dataset.id,r=l(t.cart);r.forEach((function(t){t._id===n&&(a>s[t._id]?t.quantity=s[t._id]:t.quantity=a)})),o.a.put("/admin/api/orders",{items:r}).then((function(){t.getCart()})).catch((function(t){return console.error(t)}))};return r.a.createElement("div",null,r.a.createElement("div",{className:"buffer"}),r.a.createElement("div",{className:"container-gallery-page"},r.a.createElement("h2",{className:"subheader-client"},"shopping cart"),t.cart&&t.cart.length?t.cart.map((function(t){return r.a.createElement("div",{className:"container-image-about",style:{marginBottom:"40px"}},r.a.createElement("div",{className:"container-image-grid-cart"},r.a.createElement("img",{className:"image-grid",src:t.fireBaseUrl})),r.a.createElement("div",{style:{width:"min(90vw, 572px)",margin:"0",display:"flex",alignItems:"center",justifyContent:"spaceEvenly",flexWrap:"wrap"}},r.a.createElement("label",{style:{width:"120px",margin:"0 auto"}},t.title," ",t.width&&t.height?t.width+"X"+t.height:null),r.a.createElement("label",{style:{width:"120px",margin:"0 auto",textAlign:"right",verticalAlign:"middle"}},"$",t.price.toFixed(2)),r.a.createElement("form",{style:{width:"120px",margin:"0 auto"},"data-id":t._id,onSubmit:d},r.a.createElement("div",{style:{width:"120px",margin:"0 auto",display:"flex",justifyContent:"flexStart",alignItems:"center"}},r.a.createElement("label",{style:{width:"30px",margin:"0 10px 0 0"}},"Qty: "),r.a.createElement("input",{type:"number",name:"quantity",placeholder:t.quantity,style:{width:"40px",margin:"0",fontSize:"16px"}}),r.a.createElement("div",{style:{margin:"auto 0 auto 10px",width:"20px"}},r.a.createElement("input",{type:"image",style:{width:"20px"},src:"https://calendar-trips.s3-us-west-1.amazonaws.com/update_icon.svg",alt:"Submit"})))),r.a.createElement("label",{style:{width:"120px",margin:"0 auto",textAlign:"right"}},"$",(t.price*t.quantity).toFixed(2))))})):r.a.createElement("h3",null,"no items in cart")))}}}]);