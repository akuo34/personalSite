(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{237:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(56),i=a(13),l=a.n(i),c=a(65),u=a.n(c);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw r}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=function(){var e=s(Object(n.useState)(""),2),t=e[0],a=e[1],i=s(Object(n.useState)([]),2),c=i[0],f=i[1],d=s(Object(n.useState)(!1),2),b=d[0],p=d[1],g=s(Object(n.useState)(!1),2),h=g[0],y=g[1];Object(n.useEffect)((function(){l.a.get("/admin/api/about").then((function(e){e.data.length||p(!0),f(e.data)})).catch((function(e){return console.error(e)}))}),[]);var v=function(e){var t=e.target.files[0];a((function(e){return t}))},E=function(){l.a.get("/admin/api/about").then((function(e){var t=e.data;f(t),y(!1)})).catch((function(e){return console.error(e)}))},w=function(e){e.preventDefault(),y(!0);var n=e.target.dataset.id,o=e.target.dataset.filename;console.log("start of upload"),""===t&&(console.error("not an image, the image file is a ".concat(m(t))),y(!1)),r.a.ref("/about/".concat(t.name)).put(t).on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e)}),(function(){console.log("uploaded to firebase"),r.a.ref("about").child(t.name).getDownloadURL().then((function(e){r.a.ref("about").child(o).delete().then((function(){return console.log("deleted from firebase")})).catch((function(e){return console.error(e)}));var i={portraitFireBaseUrl:e,portraitFilename:o=t.name};l.a.put("/admin/api/about/portrait/".concat(n),i).then((function(e){E(),console.log(e),a("")})).catch((function(e){return console.error(e)}))}))})),document.getElementById("form-edit-portrait").reset()},S=function(e){e.preventDefault(),y(!0);var n=e.target.dataset.id,o=e.target.dataset.filename;console.log("start of upload"),""===t&&(console.error("not an image, the image file is a ".concat(m(t))),y(!1)),r.a.ref("/about/".concat(t.name)).put(t).on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e)}),(function(){console.log("uploaded to firebase"),r.a.ref("about").child(t.name).getDownloadURL().then((function(e){if(o)r.a.ref("about").child(o).delete().then((function(){console.log("deleted from firebase");var o=t.name,r={bannerFireBaseUrl:e,bannerFilename:o};l.a.put("/admin/api/about/banner/".concat(n),r).then((function(e){E(),window.location.reload(),console.log(e),a("")})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}));else{var i=t.name,c={bannerFireBaseUrl:e,bannerFilename:i};l.a.put("/admin/api/about/banner/".concat(n),c).then((function(e){E(),y(!1),window.location.reload(),console.log(e),a("")})).catch((function(e){return console.error(e)}))}}))})),document.getElementById("form-edit-banner").reset()},B=function(e){e.preventDefault();var t=e.target.dataset.id,a=e.target.bio.value;l.a.put("/admin/api/about/".concat(t),{bio:a}).then((function(e){E(),console.log(e)})).catch((function(e){return console.error(e)})),document.getElementById(t).reset()},x=function(e){var t=e.target.value,a=e.target.dataset.portraitfilename,n=e.target.dataset.bannerfilename;console.log(a),console.log(n),l.a.delete("/admin/api/about/".concat(t)).then((function(e){console.log(e),E(),window.location.reload(),r.a.ref("about").child(a).delete().then((function(){return console.log("deleted from firebase")})).catch((function(e){return console.error(e)})),r.a.ref("about").child(n).delete().then((function(){return console.log("deleted from firebase")})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))};return o.a.createElement("div",{className:"body-gallery"},o.a.createElement("h3",null,"About"),o.a.createElement("div",{className:h?"container-loader":"container-loader container-loader-hidden"},o.a.createElement(u.a,{size:75,color:"#645D45",loading:h})),b?o.a.createElement("form",{id:"form-about",className:"form-gallery",onSubmit:function(e){e.preventDefault(),y(!0);var n=e.target.bio.value;console.log("start of upload"),""===t&&(console.error("not an image, the image file is a ".concat(m(t))),y(!1)),r.a.ref("/about/".concat(t.name)).put(t).on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e)}),(function(){console.log("uploaded to firebase"),r.a.ref("about").child(t.name).getDownloadURL().then((function(e){var o=t.name,r={portraitFireBaseUrl:e,bio:n,portraitFilename:o,bannerFireBaseUrl:"",bannerFilename:""};l.a.post("/admin/api/about",r).then((function(e){E(),p(!1),console.log(e),a("")})).catch((function(e){return console.error(e)}))}))})),document.getElementById("form-about").reset()}},o.a.createElement("h4",{className:"text-gallery-form-header"},"Create your bio"),o.a.createElement("textarea",{className:"input-landing",name:"bio",placeholder:"About me",style:{height:"90px",fontSize:"14px"}}),o.a.createElement("div",{className:"container-gallery-inputs"},o.a.createElement("input",{className:"input-gallery-file",type:"file",onChange:v}),o.a.createElement("button",{className:"button-gallery-post"},"Upload to About"))):null,c.map((function(e){return o.a.createElement("div",{className:"container-about-render"},o.a.createElement("div",{className:"container-gallery-row"},o.a.createElement("div",{className:"container-about-img"},o.a.createElement("img",{className:"img-about-admin",src:e.portraitFireBaseUrl,alt:"gallery img"})),o.a.createElement("div",{className:"container-gallery-title-description"},o.a.createElement("form",{id:"form-edit-portrait",onSubmit:w,"data-id":e._id,"data-filename":e.portraitFilename},o.a.createElement("div",{style:{marginBottom:"5px"}},"Change portrait"),o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("input",{type:"file",onChange:v,style:{marginBottom:"5px"}}),o.a.createElement("button",null,"Upload portrait"))),o.a.createElement("form",{id:"form-edit-banner",onSubmit:S,"data-id":e._id,"data-filename":e.bannerFilename},o.a.createElement("div",{style:{marginBottom:"5px"}},"Change banner"),o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("input",{type:"file",onChange:v,style:{marginBottom:"5px"}}),o.a.createElement("button",null,"Upload banner"))),o.a.createElement("form",{id:e._id,className:"form-gallery-edit",onSubmit:B,"data-id":e._id},o.a.createElement("textarea",{name:"bio",placeholder:"Bio",style:{height:"80px",marginBottom:"5px"}}),o.a.createElement("div",{className:"container-form-buttons"},o.a.createElement("button",{type:"submit",style:{marginRight:"5px"}},"Edit"),o.a.createElement("button",{value:e._id,onClick:x,"data-bannerfilename":e.bannerFilename,"data-portraitfilename":e.portraitFilename},"Delete"))))),o.a.createElement("p",{style:{width:"calc(140px + 40vw)",marginBottom:"40px",lineHeight:"28px"}},"Bio: ",e.bio))})))}},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(55),o=a.n(n);a(57);o.a.initializeApp({apiKey:"AIzaSyAOuLxJrJn2uRls-gLbn3-3Gl3Zhq0QHZY",authDomain:"status-kuo-abc87.firebaseapp.com",databaseURL:"https://status-kuo-abc87.firebaseio.com",projectId:"status-kuo-abc87",storageBucket:"status-kuo-abc87.appspot.com",messagingSenderId:"111200716918",appId:"1:111200716918:web:2bc2bfb30763650773f757",measurementId:"G-YF0JN1MXXQ"});var r=o.a.storage()}}]);