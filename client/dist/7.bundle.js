(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{238:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(56),o=a(13),i=a.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=function(){var e=c(Object(n.useState)(""),2),t=e[0],a=e[1],o=c(Object(n.useState)([]),2),m=o[0],u=o[1],p=c(Object(n.useState)(null),2),d=p[0],f=p[1];Object(n.useEffect)((function(){i.a.get("/admin/api/events").then((function(e){u(e.data)})).catch((function(e){return console.error(e)}))}),[]);var g=function(){i.a.get("/admin/api/events").then((function(e){var t=e.data;u(t)})).catch((function(e){return console.error(e)}))},b=function(e){e.preventDefault();var t=e.target.dataset.id,a=e.target.title.value,n=e.target.description.value,r=e.target.location.value,l=e.target.startDate.value,o=e.target.endDate.value,s=e.target.startTime.value,c=e.target.endTime.value,m=parseInt(l.substring(0,4)),u=parseInt(l.substring(5,7))-1,p=parseInt(l.substring(8,10)),d=parseInt(o.substring(0,4)),b=parseInt(o.substring(5,7))-1,v=parseInt(o.substring(8,10)),y=parseInt(s.substring(0,2)),E=parseInt(s.substring(3,5)),h=parseInt(c.substring(0,2)),D=parseInt(c.substring(3,5));l=new Date(m,u,p,y,E,0,0),o=new Date(d,b,v,h,D,0,0),i.a.put("/admin/api/events/".concat(t),{title:a,resource:n,location:r,startDate:l,endDate:o,startTime:s,endTime:c,allDay:!1}).then((function(e){g(),console.log(e),f(null)})).catch((function(e){return console.error(e)})),document.getElementById(t).reset()},v=function(e){var t=e.target.value,a=e.target.dataset.filename;i.a.delete("/admin/api/events/".concat(t)).then((function(e){console.log(e),g(),l.a.ref("events").child(a).delete().then((function(){return console.log("deleted from firebase")})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))},y=function(e){var t=e.target.value;f(d===t?null:t)};return r.a.createElement("div",{className:"body-gallery"},r.a.createElement("h3",null,"Events"),r.a.createElement("form",{id:"form-events",className:"form-gallery",onSubmit:function(e){e.preventDefault();var n=e.target.description.value,r=e.target.title.value,o=e.target.location.value,c=e.target.startDate.value,m=e.target.endDate.value,u=e.target.startTime.value,p=e.target.endTime.value;console.log(c),console.log(m),console.log(u),console.log(p);var d=parseInt(c.substring(0,4)),f=parseInt(c.substring(5,7))-1,b=parseInt(c.substring(8,10)),v=parseInt(m.substring(0,4)),y=parseInt(m.substring(5,7))-1,E=parseInt(m.substring(8,10)),h=parseInt(u.substring(0,2)),D=parseInt(u.substring(3,5)),N=parseInt(p.substring(0,2)),I=parseInt(p.substring(3,5));c=new Date(d,f,b,h,D,0,0),console.log(c.getTimezoneOffset()),m=new Date(v,y,E,N,I,0,0),console.log(m.getTimezoneOffset()),console.log("start of upload"),""===t&&console.error("not an image, the image file is a ".concat(s(t)));var S=(Math.floor(999*Math.random())+1).toString(),T=t.name.split("."),x=T[0]+S+T[1];l.a.ref("/events/".concat(x)).put(t).on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e)}),(function(){console.log("uploaded to firebase"),l.a.ref("events").child(x).getDownloadURL().then((function(e){var t={fireBaseUrl:e,resource:n,title:r,location:o,startDate:c,endDate:m,startTime:u,endTime:p,allDay:!1,filename:x};i.a.post("/admin/api/events",t).then((function(e){g(),console.log(e),a("")})).catch((function(e){return console.error(e)}))}))})),document.getElementById("form-events").reset()}},r.a.createElement("h4",{className:"text-gallery-form-header"},"Post new event"),r.a.createElement("input",{className:"input-landing",type:"text",name:"title",placeholder:"Title"}),r.a.createElement("input",{className:"input-landing",type:"text",name:"location",placeholder:"Location"}),r.a.createElement("textarea",{className:"input-description",name:"description",placeholder:"Description"}),r.a.createElement("div",{className:"form-1-events-row"},r.a.createElement("label",{className:"label-1-date-time"},"Start Date/Time: "),r.a.createElement("div",{className:"container-date-time-column"},r.a.createElement("input",{className:"input-date-time",style:{marginBottom:"5px"},type:"date",name:"startDate",placeholder:"YYYY-MM-DD"}),r.a.createElement("input",{className:"input-date-time",type:"time",name:"startTime",placeholder:"HH:MM"}))),r.a.createElement("div",{className:"form-1-events-row"},r.a.createElement("label",{className:"label-1-date-time"},"End Date/Time:"),r.a.createElement("div",{className:"container-date-time-column"},r.a.createElement("input",{className:"input-date-time",style:{marginBottom:"5px"},type:"date",name:"endDate",placeholder:"YYYY-MM-DD"}),r.a.createElement("input",{className:"input-date-time",type:"time",name:"endTime",placeholder:"HH:MM"}))),r.a.createElement("div",{className:"container-gallery-inputs"},r.a.createElement("input",{className:"input-gallery-file",type:"file",onChange:function(e){var t=e.target.files[0];a((function(e){return t}))}}),r.a.createElement("button",{className:"button-gallery-post"},"Upload to Events"))),m.map((function(e,t){return r.a.createElement("div",{className:"container-gallery-row"},r.a.createElement("div",{className:"container-events-img"},r.a.createElement("img",{className:"img-gallery",loading:"lazy",src:e.fireBaseUrl,alt:"gallery img"})),r.a.createElement("div",{className:"container-events-title-description"},r.a.createElement("p",null,"Title: ",e.title),r.a.createElement("p",null,"Location: ",e.location),r.a.createElement("p",null,"Start Date: ",e.startDate),r.a.createElement("p",null,"Start Time: ",e.startTime),r.a.createElement("p",null,"End Date: ",e.endDate),r.a.createElement("p",null,"End Time: ",e.endTime),r.a.createElement("p",null,"Description: ",e.resource),r.a.createElement("div",{className:"container-form-buttons"},r.a.createElement("button",{value:e._id,style:{marginRight:"5px"},onClick:y},"Edit"),r.a.createElement("button",{value:e._id,onClick:v,"data-filename":e.filename},"Delete")),d===e._id?r.a.createElement("form",{id:e._id,className:"form-gallery-edit",onSubmit:b,"data-id":e._id},r.a.createElement("input",{style:{marginBottom:"5px",marginTop:"5px",fontSize:"14px"},type:"text",name:"title",placeholder:"Title"}),r.a.createElement("input",{style:{marginBottom:"5px",fontSize:"14px"},type:"text",name:"location",placeholder:"Location"}),r.a.createElement("textarea",{name:"description",placeholder:"Description",style:{height:"50px",marginBottom:"5px",fontSize:"14px"}}),r.a.createElement("div",{className:"form-2-events-row"},r.a.createElement("p",{className:"label-2-date-time"},"Start Date/Time: "),r.a.createElement("div",{className:"container-date-time-column"},r.a.createElement("input",{className:"input-date-time",style:{marginBottom:"5px"},type:"date",name:"startDate",placeholder:"YYYY-MM-DD"}),r.a.createElement("input",{className:"input-date-time",type:"time",name:"startTime",placeholder:"HH:MM"}))),r.a.createElement("div",{className:"form-2-events-row"},r.a.createElement("p",{className:"label-2-date-time"},"End Â Date/Time: "),r.a.createElement("div",{className:"container-date-time-column"},r.a.createElement("input",{className:"input-date-time",style:{marginBottom:"5px"},type:"date",name:"endDate",placeholder:"YYYY-MM-DD"}),r.a.createElement("input",{className:"input-date-time",type:"time",name:"endTime",placeholder:"HH:MM"}))),r.a.createElement("div",{className:"container-form-buttons"},r.a.createElement("button",{style:{marginRight:"5px"},type:"submit"},"Submit Changes"))):null))})))}},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(55),r=a.n(n);a(57);r.a.initializeApp({apiKey:"AIzaSyAOuLxJrJn2uRls-gLbn3-3Gl3Zhq0QHZY",authDomain:"status-kuo-abc87.firebaseapp.com",databaseURL:"https://status-kuo-abc87.firebaseio.com",projectId:"status-kuo-abc87",storageBucket:"status-kuo-abc87.appspot.com",messagingSenderId:"111200716918",appId:"1:111200716918:web:2bc2bfb30763650773f757",measurementId:"G-YF0JN1MXXQ"});var l=r.a.storage()}}]);